//package com.example.dblocal._Producto

package com.example.db_local_menu._Producto

import android.content.Context
import androidx.room.Database
import androidx.room.Room
import androidx.room.RoomDatabase
import com.example.db_local_menu._Almacen.a1Componente
import com.example.db_local_menu._Almacen.a2ComponenteDao // Importa a2ComponenteDao del paquete _Almacen


@Database(
    entities = [Producto::class, ProductoComponente::class, a1Componente::class], // Asegúrate de que todas tus entidades estén aquí
    version = 1, // Si cambias el esquema, deberás incrementar la versión y manejar migraciones
    exportSchema = false // Añadido para evitar advertencias de exportación de esquema durante el desarrollo
)
abstract class AppDatabase : RoomDatabase() {
    // Declarar todos los DAOs de tu aplicación aquí
    abstract fun a2ProduCompDao(): a2ProduCompDao
    abstract fun componenteDao(): a2ComponenteDao // DAO para los componentes

    companion object {
        @Volatile
        private var INSTANCE: AppDatabase? = null

        fun getInstance(context: Context): AppDatabase {
            return INSTANCE ?: synchronized(this) {
                val instance = Room.databaseBuilder(
                    context.applicationContext,
                    AppDatabase::class.java,
                    "nombre_de_tu_base_de_datos" // Dale un nombre único a tu base de datos principal
                )
                    // .addMigrations(MIGRATION_1_2) // Si tienes migraciones futuras, las añadirías aquí
                    .build()
                INSTANCE = instance
                instance
            }
        }
    }
}